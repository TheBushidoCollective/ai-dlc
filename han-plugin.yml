# jutsu-ai-dlc - AI-DLC Methodology Plugin
#
# Provides iterative AI-driven development workflow with:
# - Hat-based role switching
# - Named workflows (patterns) - see workflows.yml
# - Completion criteria tracking
# - Automatic context preservation across /clear

hooks:
  inject-context:
    command: bash "${CLAUDE_PLUGIN_ROOT}/hooks/inject-context.sh"
    event: SessionStart
    description: Inject AI-DLC iteration context (hat, intent, criteria, scratchpad)

  # Subagent context injection is now handled by .claude-plugin/hooks.json
  # using han hook wrap-subagent-context for proper JSON output

  iterate:
    command: bash "${CLAUDE_PLUGIN_ROOT}/hooks/enforce-iteration.sh"
    event: Stop
    description: Enforce iteration pattern - prompt for /clear to continue
    depends_on:
      - plugin: "*"
        hook: "*"
      - plugin: jutsu-git-storytelling
        hook: commit
        optional: true

